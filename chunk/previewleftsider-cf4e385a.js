import{S as $}from"./setting.vue_vue_type_style_index_0_lang-315c55c2.js";import{N as P,_ as O}from"./checkbutton.vue_vue_type_script_setup_true_lang-c0bad176.js";import{k as Q,r as X,w as Y,f as g,D as d,I as y,J as s,j as t,u as e,ab as u,y as p,K as m,E as v,F as H,L as I,Z as B,M as w,_ as ee}from"./xcs-vue-family-70642f71.js";import{a as f,L as N}from"./index-5cf8f5a8.js";import{N as c}from"./space-5433d955.js";import{a as S}from"./headers-069f588a.js";import{N as k}from"./element-17c18d0e.js";import{N as x}from"./inputnumber-fff11604.js";import{N as C}from"./text-3b674000.js";import{a as j,N as R}from"./grid-9031c693.js";import{_ as te}from"../assets/index-83a10b2e.js";import"./button-00b27872.js";import"./light-87cce264.js";import"./xcs-canvas-5c2592d6.js";import"./loading-b06a4834.js";import"./use-style-1280d407.js";import"./scrollbar-5a89bf25.js";import"./fade-in.cssr-8e3c8f09.js";import"./devicedata-18553816.js";import"./params-f8cc805d.js";import"./urlparam-4b6ed041.js";import"./light-28752129.js";import"./index-55948043.js";const se={key:0,class:"divider"},ae={key:2,class:"divider"},ie=Q({__name:"PreviewLeftSider",props:{ext:null,info:null,disConnect:{type:Boolean},isInProcessing:{type:Boolean}},emits:["changeLowLight","changeStartPoint"],setup(G,{emit:L}){const n=G,M=[{name:"hidden"},{name:"move-arrow-up",type:f.TOP},{name:"hidden"},{name:"move-arrow-left",type:f.LEFT},{name:"move-center",type:f.CENTER},{name:"move-arrow-right",type:f.RIGHT},{name:"hidden"},{name:"move-arrow-down",type:f.BOTTOM},{name:"hidden"}],a=X({...n.ext.settingParams,...n.ext.walkBorderParams,movingLaserHeadDisabled:!1});Y(()=>n.info.isUsbKeyLock,i=>{i===!1&&(a.isLowLight=!1)},{deep:!0});const V=g(()=>n.info.power!==N.RED_DOT),A=g(()=>n.info.gMode===N.LOW_LIGHT&&a.isLowLight),z=g(()=>n.info.gMode!==N.LOW_LIGHT||n.disConnect||n.isInProcessing||a.movingLaserHeadDisabled),F=g(()=>a.movingLaserHeadDisabled||n.disConnect||n.isInProcessing),K=()=>{a.isLowLight=!a.isLowLight,L("changeLowLight",a)},U=i=>new Promise(l=>{setTimeout(l,i)}),D=(i,l)=>{const o=i.target.value;o&&(a[l]=o)},W=async i=>{try{a.movingLaserHeadDisabled=!0,await n.ext.movingLaserHead(Object.assign({},a,{direction:i})),i===f.CENTER&&(a.isLowLight=!1),await U(500)}catch(l){console.log("移动激光头失败",l)}finally{a.movingLaserHeadDisabled=!1}},J=i=>{a.startPointOrder=i,console.log("[设置加工原点]"),L("changeStartPoint",i-1)},Z=()=>{a.lightPower||(a.lightPower=n.ext.settingParams.lightPower),n.ext.setLowLight({isLowLight:a.isLowLight,lightPower:a.lightPower}),L("changeLowLight",a)},r={}.VITE_PAD,_=r?0:80,T={width:r?"80px":"110px"},q={width:r?"80px":"96px"},h=r?{"margin-bottom":"16px"}:{},b=r?{width:"320px",padding:"16px 16px 0px 16px",display:"block"}:{};return(i,l)=>(d(),y(e(c),{vertical:"",size:8,align:"center",justify:"space-around",class:"side-box"},{default:s(()=>[t(e(c),{size:8,style:u(e(b)),vertical:"",class:"operation-section section-move"},{default:s(()=>[t(e(S),{style:u(e(h))},{default:s(()=>[p(m(i.$t("device.process.move_laser_module"))+" ",1),t(e($),{name:"move-arrow-up"})]),_:1},8,["style"]),t(e(c),{size:e(_),class:"section-content",justify:e(r)?"space-between":"start"},{default:s(()=>[t(e(k),{class:"s-left"},{default:s(()=>[t(e(P),{label:i.$t("device.process.distance")},{default:s(()=>[t(e(c),{align:"center",size:8},{default:s(()=>[t(e(x),{value:a.distance,placeholder:"","show-button":!1,style:T,min:"1",max:"400",onBlur:l[0]||(l[0]=o=>D(o,"distance"))},null,8,["value"]),t(e(C),null,{default:s(()=>[p(m(i.$t("device.process.unit_mm")),1)]),_:1})]),_:1})]),_:1},8,["label"]),t(e(P),{label:i.$t("device.process.speed")},{default:s(()=>[t(e(c),{align:"center",size:8},{default:s(()=>[t(e(x),{value:a.moveSpeed,placeholder:"","show-button":!1,style:T,min:"1",max:"180",onBlur:l[1]||(l[1]=o=>D(o,"moveSpeed"))},null,8,["value"]),t(e(C),null,{default:s(()=>[p(m(i.$t("device.process.unit_mm_s")),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1}),t(e(j),{class:"btn-grid","x-gap":"6","y-gap":"6",rows:3,cols:3},{default:s(()=>[(d(),v(H,null,I(M,(o,E)=>t(e(R),{key:E},{default:s(()=>[o.name!=="hidden"?(d(),y(B(e(O)),{key:0,type:"primary",disabled:e(F),border:!1,onClick:oe=>W(o.type)},{default:s(()=>[t(e($),{name:o.name},null,8,["name"])]),_:2},1032,["disabled","onClick"])):w("",!0)]),_:2},1024)),64))]),_:1})]),_:1},8,["size","justify"])]),_:1},8,["style"]),e(r)?(d(),v("div",se)):w("",!0),e(V)?(d(),y(e(c),{key:1,size:8,vertical:"",style:u(e(b)),class:"operation-section section-low-light"},{default:s(()=>[t(e(S),{class:"section-title",style:u(e(h))},{default:s(()=>[p(m(i.$t("device.process.laser_spot")),1)]),_:1},8,["style"]),t(e(c),{size:e(_),justify:e(r)?"space-between":"start",class:"section-content"},{default:s(()=>[t(e(k),{class:"s-left"},{default:s(()=>[t(e(P),{"show-label":!1},{default:s(()=>[t(e(c),{align:"center",size:8},{default:s(()=>[t(e(x),{value:a.lightPower,"onUpdate:value":l[2]||(l[2]=o=>a.lightPower=o),"show-button":!1,disabled:!a.isLowLight||e(z),style:q,min:1,max:10,onBlur:Z},null,8,["value","disabled"]),t(e(C),null,{default:s(()=>[p(m(i.$t("common.punctuation.percent")),1)]),_:1})]),_:1})]),_:1})]),_:1}),(d(),y(B(e(O)),{type:"primary",disabled:e(z),onClick:K},{default:s(()=>[p(m(e(A)?i.$t("device.process.disable"):i.$t("device.process.enable")),1)]),_:1},8,["disabled"]))]),_:1},8,["size","justify"])]),_:1},8,["style"])):w("",!0),e(r)?(d(),v("div",ae)):w("",!0),t(e(c),{size:8,vertical:"",style:u(e(b)),class:"operation-section section-origin"},{default:s(()=>[t(e(S),{style:u(e(h))},{default:s(()=>[p(m(i.$t("device.process.origin")),1)]),_:1},8,["style"]),t(e(c),{size:e(_),class:"section-content",justify:e(r)?"space-between":"start"},{default:s(()=>[t(e(k),{class:"s-left"},{default:s(()=>[p(m(i.$t("device.process.click_start_point")),1)]),_:1}),t(e(j),{class:"position-box",rows:3,cols:3,"x-gap":"22","y-gap":"22"},{default:s(()=>[(d(),v(H,null,I(9,o=>t(e(R),{key:o,class:ee(["p-item",{active:o===a.startPointOrder}]),onClick:E=>J(o)},null,8,["class","onClick"])),64))]),_:1})]),_:1},8,["size","justify"])]),_:1},8,["style"])]),_:1}))}});const ze=te(ie,[["__scopeId","data-v-0c11c9de"]]);export{ze as default};
