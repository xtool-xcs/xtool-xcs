import{bV as S}from"../assets/index-83a10b2e.js";import"./setting.vue_vue_type_style_index_0_lang-315c55c2.js";import{_ as D}from"./setting.vue_vue_type_script_setup_true_lang-0ee96bfb.js";import{k as P,H as E,f as V,D as A,I as B,a0 as T,a1 as j,u as f}from"./xcs-vue-family-70642f71.js";import{r as I,aj as U,m as W}from"./xcs-canvas-5c2592d6.js";import"./index-55948043.js";import"./modal-c96d5b67.js";import"./button-00b27872.js";import"./light-87cce264.js";import"./space-5433d955.js";import"./use-style-1280d407.js";import"./loading-b06a4834.js";import"./scrollbar-5a89bf25.js";import"./fade-in.cssr-8e3c8f09.js";import"./image-bad03660.js";import"./spin-afa417d1.js";import"./text-3b674000.js";import"./light-28752129.js";import"./checkbox-9495194d.js";import"./inputnumber-fff11604.js";import"./headers-069f588a.js";const re=P({__name:"DeviceSettings",props:{show:{type:Boolean},laserFaq:null,info:null,exportLog:{type:Function},checkUpdateFirmware:{type:Function},setDeviceName:{type:Function},exportGcode:{type:Function},setFlameAlarm:{type:Function},setHandHeld:{type:Function},setGapCheck:{type:Function},setAutoVerticalOrigin:{type:Function},setPurifierTimeout:{type:Function},onShowUploadGcode:{type:Function},updateDelayTime:{type:Function},setDelayTime:{type:Function},onShowMessage:{type:Function},onShowExtendCalibration:{type:Function}},emits:["close","showWifiConfig","showConnector","showUploadGcode"],setup(g,{emit:s}){const i=g,{t:e}=E(),c=()=>{s("close")},r=(o,n,l)=>{if(l){i.onShowMessage("info","device.process.device_is_working");return}n(o)},y=V(()=>{const{show:o,info:n,laserFaq:l}=i,{cover:v,name:d,snCode:b,version:w,power:p,type:_,ip:h,purifierTimeout:x,workingMode:C,purifierExist:F,flameAlarm:k,gapCheck:z,mode:G,isInProcessing:a}=n,u=I(p)&&p.map(t=>{if(t===10)return`455-${t}W`;if(t===2)return`1064-${t}W`}),m=U(p,t=>!W(t)||t<=0);return{show:o,close:c,info:{url:v,name:d,button:{label:e("device.setting.change"),id:"changeDevice",action:()=>{c(),s("showConnector")}}},list:[{id:"base",label:e("device.setting.basic"),formData:[{id:"name",label:e("device.setting.name"),type:"input",attrs:{size:"small",maxlength:15,defaultValue:d,onBlur:t=>{i.setDeviceName(t.target.value)}}},{id:"powerGroup",label:e("device.setting.model"),type:"group",spaceProps:{justify:"space-between"},children:[{id:"power",type:"text",value:m?e("device.setting.unrecognized_laser_model"):`${u[0]} / ${u[1]}`},{id:"unrecognizedLaser",type:"button",label:e("device.setting.unrecognized_laser_faq"),hidden:!m,attrs:{class:"unrecognized-laser-button",size:"tiny",tag:"a",text:!0,target:"_blank",href:l}}]},{id:"snCode",label:e("device.setting.serial_num"),type:"text",value:b},{id:"firmwareVersionGroup",label:e("device.setting.firmware_version"),type:"group",spaceProps:{justify:"space-between"},children:[{id:"version",type:"text",value:w},{id:"firmwareVersionButton",type:"button",label:e("device.setting.check_firmware"),attrs:{size:"small",style:{minWidth:"72px"},onClick:()=>{if(a.value){i.onShowMessage("info","device.process.device_is_working");return}i.checkUpdateFirmware()}}}]},{id:"wifiConfigGroup",label:e("device.connect.wifi_config"),type:"group",spaceProps:{justify:"space-between"},children:[{id:"wifiConnect",type:"text",value:h},{id:"wifiConfigButton",type:"button",hidden:{}.VITE_PAD,label:e("device.connect.wifi_config_button_label"),attrs:{size:"small",style:{minWidth:"72px"},disabled:_==="WIFI",onClick:()=>{s("showWifiConfig")}}}]}]},{id:"deviceSetting",label:e("device.setting.setting"),formData:[{id:"flameAlarmSensitivity",label:e("device.setting.flame_alarm"),type:"switch",value:k,attrs:{size:"medium",justify:"space-between",onUpdateValue:t=>{r(t,i.setFlameAlarm,a.value)}}},{id:"extendCalibrationEntryGroup",type:"group",hidden:G!==S.LASER_EXTENDER,spaceProps:{justify:"space-between"},children:[{id:"extendCalibrationText",type:"text",value:e("device.laser_extend.extend_install_calibration"),attrs:{style:{color:"#747a7a"}}},{id:"extendCalibrationEntryBtn",type:"button",label:e("device.laser_extend.calibrate"),attrs:{size:"small",onClick:()=>i.onShowExtendCalibration()}}]},{id:"handHeld",label:e("device.setting.stop_move"),type:"switch",value:C==="NORMAL",attrs:{size:"medium",justify:"space-between",onUpdateValue:t=>{r(t,i.setHandHeld,a.value)}}},{id:"openGapStop",label:e("device.setting.open_gap_stop_work"),tips:{style:"maxWidth: 250px;",content:{text:e("device.setting.open_gap_stop_tips")},triggerSlot:{trigger:{}.VITE_PAD?"click":"hover"}},type:"switch",value:z,attrs:{size:"medium",justify:"space-between",onUpdateValue:t=>{r(t,i.setGapCheck,a.value)}}},{id:"purifierTimeout",label:e("device.setting.purifier_timeout"),type:"number",value:x,hidden:!F,attrs:{size:"small",showButton:!1,suffix:"s",min:0,max:600,defaultValue:10,step:1,fractionDigits:0,updateValueOnInput:!1,onUpdateValue:i.setPurifierTimeout}},{id:"exportGcodeGroup",label:e("device.setting.export_gcode"),type:"buttonGroup",attrs:{spaceProps:{vertical:!1,align:"center",justify:"space-between"},options:[{id:"exportGcodeButton",type:"button",label:e("device.common.export"),attrs:{size:"small",onClick:()=>i.exportGcode()}}]}}]}]}});return(o,n)=>(A(),B(f(D),T(j(f(y))),null,16))}});export{re as default};
