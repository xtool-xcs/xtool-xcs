import{n as F,bi as H,q as R,d as $,aj as w,b5 as q,a5 as D,V as J,P as O,_ as Y}from"../assets/index-83a10b2e.js";import{N as z}from"./index-36e5bf24.js";import{k as A,H as Q,b as y,af as c,E as d,j as L,u as n,F as _,L as I,J as V,D as s,I as v,a5 as W}from"./xcs-vue-family-70642f71.js";import"./index-55948043.js";import"./xcs-canvas-5c2592d6.js";const X=A({__name:"General",setup(Z){const{t}=Q(),g=W(),r=F(),u=y(!1),o=y(""),B=c(()=>[C.value[o.value]]),f=e=>{u.value=!0,o.value=e},m=e=>{switch(console.log(e),e){case"about":g.push({path:"about"});break;case"help":k("https://support.xtool.com/hc/en-us");break;case"shop":k("https://www.xtool.com/");break}},k=e=>{q(e)},b=c(()=>[[{id:"unit",title:t("setting.unit"),onClick:f},{id:"language",title:t("setting.language"),onClick:f}],[{id:"about",title:t("mobile.common.about"),onClick:m},{id:"help",title:t("example.detail.help_center"),onClick:m}],[{id:"shop",title:t("common.menu.link_mall"),onClick:m}]]),M=c(()=>{var e;return(e=b.value.flat().find(l=>l.id===o.value))==null?void 0:e.title}),N=H[R.mobile].filter(e=>["简体中文","English"].includes(e.label)).map(e=>({value:e.lang,label:e.label})),h=c(()=>({unit:[{label:t("setting.unit_mm"),value:w.MM},{label:t("setting.unit_in"),value:w.IN}],language:N})),C=c(()=>({unit:r.unit.current,language:r.langKey})),P=(e,l=[])=>{if(l.length===0)return"";for(let i of l)if(i.value===e)return i.label},x={unit:e=>{r.updateUnit(e.selectedValues)},language:e=>{console.log("[ updateLangKey ] > ",e.selectedValues),r.updateLangKey(e.selectedValues[0])}},E=e=>{u.value=!1,x[o.value]&&x[o.value](e)},G=()=>{u.value=!1};return(e,l)=>{const i=z,K=D,S=J,T=O,U=$;return s(),d(_,null,[L(i,{fixed:"",placeholder:"","left-arrow":"",title:n(t)("common.menu.setting"),onClickLeft:l[0]||(l[0]=p=>n(g).back())},null,8,["title"]),(s(!0),d(_,null,I(n(b),(p,j)=>(s(),v(S,{key:j,border:!1},{default:V(()=>[(s(!0),d(_,null,I(p,a=>(s(),v(K,{key:a.id,title:a.title,"is-link":"",value:P(n(C)[a.id],n(h)[a.id])||"",border:!0,onClick:ee=>a.onClick&&a.onClick(a.id)},null,8,["title","value","onClick"]))),128))]),_:2},1024))),128)),L(U,{show:u.value,"onUpdate:show":l[1]||(l[1]=p=>u.value=p),round:"",position:"bottom","close-on-click-overlay":!1},{default:V(()=>[(s(),v(T,{key:o.value,"model-value":n(B),title:n(M),columns:n(h)[o.value]||[],"columns-field-names":{text:"label"},"confirm-button-text":n(t)("common.msg.ok"),"cancel-button-text":n(t)("common.msg.cancel"),onConfirm:E,onCancel:G},null,8,["model-value","title","columns","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"])],64)}}});const se=Y(X,[["__scopeId","data-v-d5470775"]]);export{se as default};
